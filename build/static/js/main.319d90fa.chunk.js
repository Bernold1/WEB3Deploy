(this["webpackJsonpdual-n-back"]=this["webpackJsonpdual-n-back"]||[]).push([[0],{108:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a=n(85),i=n(183),r=n(0),o=n(9),s=n(83),l=n(29),c=n(170),m=n(173),u=n(176),h=n(175),d=n(174),g=n(171),p=n(172),f=n(133),E=(n(42),n(166)),v=n(169),b=n(79),y=n(185),w=n(168),k=n(58),S=n.n(k),N=Object(b.a)((function(e){return Object(y.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},buttons:{float:"right"}})}));function C(){var e=N();return sessionStorage.length>0?r.createElement("div",{className:e.root},r.createElement(E.a,{position:"static"},r.createElement(w.a,null,r.createElement(v.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.createElement(S.a,null)),r.createElement(f.a,{variant:"h6",className:e.title},"Dual-N-Back"),r.createElement(c.a,{className:e.buttons,onClick:function(e){return sessionStorage.clear(),window.location.href="/"},color:"inherit"},"Logout"),r.createElement(c.a,{className:e.buttons,onClick:function(e){return window.location.href="/"},color:"secondary"},"Home")))):r.createElement("div",{className:e.root},r.createElement(E.a,{position:"static"},r.createElement(w.a,null,r.createElement(v.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.createElement(S.a,null)),r.createElement(f.a,{variant:"h6",className:e.title},"Dual-N-Back"),r.createElement(c.a,{className:e.buttons,onClick:function(e){return window.location.href="/login"},color:"inherit"},"Login"),r.createElement(c.a,{className:e.buttons,onClick:function(e){return window.location.href="/register"},color:"inherit"},"Register"),r.createElement(c.a,{className:e.buttons,onClick:function(e){return window.location.href="/"},color:"secondary"},"Home"))))}var x=Object(b.a)((function(e){return{card:{marginbottom:12,marginright:12,padding:20,minWidth:350,maxWidth:550,minHeight:250,textAlign:"center"},cardhome:{marginbottom:12,marginright:12,padding:20,minWidth:350,maxWidth:550,marginLeft:450,minHeight:250,textAlign:"center"},redirection:{marginTop:20},desc:{marginTop:10},cardtitle:{fontweight:700,marginbottom:20,color:"#004765"}}})),j=[{title:"Login",description:["Login to start playing Dual-N-Back"],buttonText:"Login here",route:"/login"},{title:"Play Dual-N-Back",description:["Play Dual-N-Back (without highscore)"],buttonText:"View List(this routes to the game atm)",route:"/game"},{title:"Registration",description:["New user?"],buttonText:"Click here to get started",route:"/register"}],O=[{title:"Welcome back",description:["Welcome back start playing now"],buttonText:"Click here to start playing",route:"/game"}],P=function(){var e=x();return sessionStorage.length>0?r.createElement("div",{className:"App"},r.createElement(C,null),r.createElement(g.a,{maxWidth:"lg",style:{justifyItems:"center",paddingTop:"150px"}},r.createElement(p.a,{container:!0,style:{justifyItems:"center"}},O.map((function(t){return r.createElement(p.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.createElement(m.a,{className:e.cardhome},r.createElement(d.a,{image:"https://source.unsplash.com/random",title:"Image title"}),r.createElement(h.a,null,r.createElement(f.a,{className:e.cardtitle,gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.createElement("br",null),r.createElement(f.a,{className:e.desc},t.description)),r.createElement(u.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(c.a,{className:e.redirection,href:t.route,size:"small",color:"primary"},t.buttonText))))}))))):r.createElement("div",{className:"App"},r.createElement(C,null),r.createElement(g.a,{maxWidth:"lg",style:{paddingTop:"150px"}},r.createElement(p.a,{container:!0,spacing:4},j.map((function(t){return r.createElement(p.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.createElement(m.a,{className:e.card},r.createElement(d.a,{image:"https://source.unsplash.com/random",title:"Image title"}),r.createElement(h.a,null,r.createElement(f.a,{className:e.cardtitle,gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.createElement("br",null),r.createElement(f.a,{className:e.desc},t.description)),r.createElement(u.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(c.a,{className:e.redirection,href:t.route,size:"small",color:"primary"},t.buttonText))))})))))},F=n(22),T=n(17),W=n(34),I=n(35),B=n(12),R=n(36),L=n(178),z=n(179),q=n(180),D=n(177),A=(n(108),n(59)),G=function(){function e(t,n){Object(F.a)(this,e),this.rows=t,this.columns=n,this.onScoreChange=void 0,this.timerToken=void 0,this.onFlash=void 0,this.history=void 0,this.score=void 0,this.history=[],this.score=0}return Object(T.a)(e,[{key:"start",value:function(e){var t=this;this.onFlash=e,this.timerToken=window.setInterval((function(){return e(t.next())}),2500)}},{key:"stop",value:function(){clearInterval(this.timerToken),delete this.onFlash,delete this.timerToken}},{key:"samePosition",value:function(){this.history.length>1&&A.isEqual(this.history[this.history.length-1].position,this.history[this.history.length-2].position)?this.updateScore(100):this.updateScore(-50)}},{key:"sameSound",value:function(){this.history.length>1&&A.isEqual(this.history[this.history.length-1].sound,this.history[this.history.length-2].sound)?this.updateScore(100):this.updateScore(-50)}},{key:"next",value:function(){var e={};if(this.history.length>0&&this.randomInRange(1,100)<=15)e.position=this.history[this.history.length-1].position;else{var t=this.randomInRange(0,this.rows-1),n=this.randomInRange(0,this.columns-1);e.position=[t,n]}if(this.history.length>0&&this.randomInRange(1,100)<=15)e.sound=this.history[this.history.length-1].sound;else{var a=this.randomInRange(1,9);e.sound=a}return this.history.push(e),e}},{key:"updateScore",value:function(e){var t=this.score+e;this.onScoreChange&&this.onScoreChange(this.score,t),this.score=t}},{key:"randomInRange",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}]),e}(),V=(n(110),function(e){function t(){return Object(F.a)(this,t),Object(W.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.rows;++t){for(var n=[],a=0;a<this.props.columns;++a){var i=["square","square-100"];this.props.highlight&&this.props.highlight[0]===t&&this.props.highlight[1]===a&&i.push("one"),n.push(r.createElement("div",{className:"grid-cell grid-"+Math.floor(100/this.props.columns),key:a+1},r.createElement("div",{className:i.join(" ")},t*this.props.columns+a+1)))}e.push(r.createElement("div",{className:"grid",key:t+1},n))}return r.createElement("div",{className:"grid-container"},e)}}]),t}(r.Component)),U=function(e){function t(e){var n;return Object(F.a)(this,t),(n=Object(W.a)(this,Object(I.a)(t).call(this,e))).state={board:new G(n.props.rows,n.props.columns),currentFlash:void 0},n.tryPosition=n.tryPosition.bind(Object(B.a)(n)),n.trySound=n.trySound.bind(Object(B.a)(n)),n.onFlash=n.onFlash.bind(Object(B.a)(n)),n.speak=n.speak.bind(Object(B.a)(n)),n}return Object(R.a)(t,e),Object(T.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n={board:t.board};return t.board.rows===e.rows&&t.board.columns===e.columns||(t.board.stop(),n.board=new G(e.rows,e.columns),n.running=!1),e.onScoreChange&&(n.board.onScoreChange=e.onScoreChange),e.running&&(n.running=!0),n}}]),Object(T.a)(t,[{key:"componentWillUnmount",value:function(){this.state.board.stop()}},{key:"componentDidUpdate",value:function(e,t,n){!e.running&&this.props.running&&this.state.board.start(this.onFlash),e.running&&!this.props.running&&this.state.board.stop()}},{key:"render",value:function(){var e={};return this.state.currentFlash&&(e.highlight=this.state.currentFlash.position),r.createElement("div",null,r.createElement(V,Object.assign({rows:this.state.board.rows,columns:this.state.board.columns},e)),r.createElement(D.a,{color:"secondary",disabled:!this.props.running,onClick:this.tryPosition},"Position"),r.createElement(D.a,{color:"secondary",disabled:!this.props.running,onClick:this.trySound},"Sound"))}},{key:"tryPosition",value:function(){this.state.board.samePosition()}},{key:"trySound",value:function(){this.state.board.sameSound()}},{key:"onFlash",value:function(e){this.setState({currentFlash:e}),this.speak(e.sound.toString())}},{key:"speak",value:function(e){if("speechSynthesis"in window){var t=new SpeechSynthesisUtterance;t.text=e,t.voice=speechSynthesis.getVoices().filter((function(e){return"Allison"===e.name}))[0],window.speechSynthesis.speak(t)}}}]),t}(r.Component),H=function(e){function t(e){var n;return Object(F.a)(this,t),(n=Object(W.a)(this,Object(I.a)(t).call(this,e))).state={gameRunning:!1,gridSize:3,score:0},n.setGridSize=n.setGridSize.bind(Object(B.a)(n)),n.onPlay=n.onPlay.bind(Object(B.a)(n)),n.onPause=n.onPause.bind(Object(B.a)(n)),n.onScoreChange=n.onScoreChange.bind(Object(B.a)(n)),n}return Object(R.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.createElement("div",{className:"App"},r.createElement(C,null),r.createElement(L.a,{style:{marginTop:"80px"}},r.createElement(z.a,null,r.createElement(q.a,{xs:"3"},r.createElement("input",{type:"range",min:"3",max:"5",className:"slider",value:this.state.gridSize,onInput:this.setGridSize,onChange:this.setGridSize})),r.createElement(q.a,{xs:"6"},r.createElement(U,{rows:this.state.gridSize,columns:this.state.gridSize,running:this.state.gameRunning,onScoreChange:this.onScoreChange})),r.createElement(q.a,{xs:"3"},r.createElement(z.a,null,r.createElement(q.a,{xs:"12"},r.createElement(D.a,{color:"primary",className:this.state.gameRunning?"hidden":"",onClick:this.onPlay},"Play"),r.createElement(D.a,{color:"primary",className:this.state.gameRunning?"":"hidden",onClick:this.onPause},"Pause"))),r.createElement(z.a,null,r.createElement("p",{style:{color:"white"}},this.state.score))))))}},{key:"setGridSize",value:function(e){this.setState({gridSize:e.target.value})}},{key:"onPlay",value:function(e){this.setState({gameRunning:!0})}},{key:"onPause",value:function(e){this.setState({gameRunning:!1})}},{key:"onScoreChange",value:function(e,t){this.setState({score:t})}}]),t}(r.Component),J=(n(111),n(48)),M=n(184),Q=n(186),$=n(181),K=n(182),X=n(52),Y=n.n(X),Z=n(37),_=(n(57),Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",background:"white"},avatar:{marginTop:"20px",margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{padding:"30px",width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),ee=function(e){var t=e.onSubmit,n=_();return r.createElement(Z.b,{initialValues:{Email:"",Password:""},onSubmit:function(e){t(e)}},(function(e){var t=e.values,a=e.handleChange,i=e.handleBlur;return r.createElement(r.Fragment,null,r.createElement(C,null),r.createElement(g.a,{component:"main",maxWidth:"xs"},r.createElement($.a,null),r.createElement("div",{className:n.paper},r.createElement(Q.a,{className:n.avatar},r.createElement(Y.a,null)),r.createElement(f.a,{component:"h1",variant:"h5"},"Sign in"),r.createElement(Z.a,{className:n.form,noValidate:!0},r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Email",label:"Email Address",name:"Email",value:t.Email,onChange:a,onBlur:i,autoComplete:"Email",autoFocus:!0}),r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Password",value:t.Password,onChange:a,onBlur:i,label:"Password",type:"Password",id:"Password",autoComplete:"current-password"}),r.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit},"Sign In"),r.createElement(p.a,{container:!0,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(p.a,{item:!0},r.createElement(K.a,{href:"/register",variant:"body2"},"Don't have an account? Sign Up")))))))}))},te=n(53),ne=n.n(te),ae=function(){return r.createElement("div",null,r.createElement(ee,{onSubmit:function(e){var t={Email:e.Email,Password:e.Password};ne.a.post("https://web3dualnback.herokuapp.com/api/user/login",Object(J.a)({},t),{headers:{"Content-Type":"application/json"}}).then((function(e){if(200==e.status){console.log(e),console.log(Object.values(e.data)[0]);var n=Object.values(e.data)[0];sessionStorage.setItem(JSON.stringify(n),t.Email),window.location.href="/"}else window.location.href="/login"}))}}))},ie=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center",background:"white"},avatar:{marginTop:"20px",margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{padding:"30px",width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),re=function(e){var t=e.onSubmit,n=ie();return r.createElement(Z.b,{initialValues:{Firstname:"",Lastname:"",Nickname:"",Email:"",Password:""},onSubmit:function(e){t(e)}},(function(e){var t=e.values,a=e.handleChange,i=e.handleBlur;return r.createElement(r.Fragment,null,r.createElement(C,null),r.createElement(g.a,{component:"main",maxWidth:"xs"},r.createElement($.a,null),r.createElement("div",{className:n.paper},r.createElement(Q.a,{className:n.avatar},r.createElement(Y.a,null)),r.createElement(f.a,{component:"h1",variant:"h5"},"Register as new user"),r.createElement(Z.a,{className:n.form,noValidate:!0},r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Firstname",value:t.Firstname,onChange:a,onBlur:i,label:"First name",type:"Firstname",id:"Firstname",autoComplete:"current-Firstname"}),r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Lastname",value:t.Lastname,onChange:a,onBlur:i,label:"Last name",type:"Lastname",id:"Lastname",autoComplete:"current-Lastname"}),r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Nickname",value:t.Nickname,onChange:a,onBlur:i,label:"Nickname",type:"Nickname",id:"Nickname",autoComplete:"current-Nickname"}),r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Email",label:"Email Address",name:"Email",value:t.Email,onChange:a,onBlur:i,autoComplete:"Email",autoFocus:!0}),r.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Password",value:t.Password,onChange:a,onBlur:i,label:"Password",type:"Password",id:"Password",autoComplete:"current-password"}),r.createElement(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit},"Register now!"),r.createElement("br",null),r.createElement(f.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(K.a,{href:"/",variant:"body2"},"return home"))))))}))},oe=function(){return r.createElement("div",null,r.createElement(re,{onSubmit:function(e){var t={Firstname:e.Firstname,Lastname:e.Lastname,Nickname:e.Nickname,Email:e.Email,Password:e.Password};console.log(t),ne.a.post("https://web3dualnback.herokuapp.com/api/user/register",Object(J.a)({},t),{headers:{"Content-Type":"application/json"}}).then((function(e){window.location.href="/login",console.log(e),console.log(e.data)}))}}))},se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ce=Object(a.a)(),me=r.createElement(i.a,{theme:ce},r.createElement(s.a,null,r.createElement("div",null,r.createElement(l.a,{exact:!0,path:"/",component:P}),r.createElement(l.a,{path:"/login",component:ae}),r.createElement(l.a,{path:"/register",component:oe}),r.createElement(l.a,{exact:!0,path:"/game",component:H}))));o.render(me,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");se?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):le(e)}))}}()},57:function(e,t,n){},99:function(e,t,n){e.exports=n(131)}},[[99,1,2]]]);
//# sourceMappingURL=main.319d90fa.chunk.js.map